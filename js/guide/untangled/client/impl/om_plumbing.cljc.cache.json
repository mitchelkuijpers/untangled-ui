["^ ","~:rename-macros",["^ "],"~:renames",["^ "],"~:externs",["^ ","~$Error",["^ "]],"~:use-macros",["^ "],"~:excludes",["~#set",[]],"~:name","~$untangled.client.impl.om-plumbing","~:imports",null,"~:requires",["^ ","~$log","~$untangled.client.logging","~$async","~$cljs.core.async","~$walk","~$clojure.walk","^>","^>","~$m","~$untangled.client.mutations","~$util","~$om.util","^A","^A","^<","^<","~$om","~$om.next","^E","^E","^@","^@","^C","^C"],"~:uses",null,"~:defs",["^ ","~$postwalk",["^ ","~:protocol-inline",null,"~:meta",["^ ","~:file","/Users/Stephen/projects/untangled-ui/resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","~:line",134,"~:column",7,"~:end-line",134,"~:end-column",15,"~:arglists",["~#list",["~$quote",["^Q",[["~$f","~$form"]]]]]],"^7","~$untangled.client.impl.om-plumbing/postwalk","~:variadic",false,"^K","resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^O",15,"~:method-params",["^Q",[["~$f","^S"]]],"~:protocol-impl",null,"~:arglists-meta",["^Q",[null,null]],"^M",1,"^L",134,"^N",134,"~:max-fixed-arity",2,"~:fn-var",true,"^P",["^Q",["^R",["^Q",[["~$f","^S"]]]]]],"~$add-meta-to-recursive-queries",["^ ","^I",null,"^J",["^ ","^K","/Users/Stephen/projects/untangled-ui/resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^L",140,"^M",7,"^N",140,"^O",36,"^P",["^Q",["^R",["^Q",[["~$q"]]]]]],"^7","~$untangled.client.impl.om-plumbing/add-meta-to-recursive-queries","^U",false,"^K","resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^O",36,"^V",["^Q",[["~$q"]]],"^W",null,"^X",["^Q",[null,null]],"^M",1,"^L",140,"^N",140,"^Y",1,"^Z",true,"^P",["^Q",["^R",["^Q",[["~$q"]]]]]],"~$rewrite-tempids-in-request-queue",["^ ","^I",null,"^J",["^ ","^K","/Users/Stephen/projects/untangled-ui/resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^L",67,"^M",7,"^N",67,"^O",39,"^P",["^Q",["^R",["^Q",[["~$queue","~$tempid-map"]]]]],"~:doc","Rewrite any pending requests in the request queue to account for the fact that a response might have\n  changed ids that are expressed in the mutations of that queue. tempid-map MUST be a map from om\n  tempid to real ids, not idents."],"^7","~$untangled.client.impl.om-plumbing/rewrite-tempids-in-request-queue","^U",false,"^K","resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^O",39,"^V",["^Q",[["^12","^13"]]],"^W",null,"^X",["^Q",[null,null]],"^M",1,"^L",67,"^N",67,"^Y",2,"^Z",true,"^P",["^Q",["^R",["^Q",[["^12","^13"]]]]],"^14","Rewrite any pending requests in the request queue to account for the fact that a response might have\n  changed ids that are expressed in the mutations of that queue. tempid-map MUST be a map from om\n  tempid to real ids, not idents."],"~$nf",["^ ","^7","~$untangled.client.impl.om-plumbing/nf","^K","resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^L",120,"^M",1,"^N",120,"^O",8,"^J",["^ ","^K","/Users/Stephen/projects/untangled-ui/resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^L",120,"^M",6,"^N",120,"^O",8],"~:tag","~$cljs.core/Keyword"],"~$read-local",["^ ","^I",null,"^J",["^ ","^K","/Users/Stephen/projects/untangled-ui/resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^L",12,"^M",7,"^N",12,"^O",17,"^P",["^Q",["^R",["^Q",[[["^ ","~:keys",["~$query","~$target","~$state","~$ast"]],"~$dkey","~$_"]]]]],"^14","Read function for the Om parser.\n\n  *** NOTE: This function only runs when it is called without a target -- it is not triggered for remote reads. To\n  trigger a remote read, use the `untangled/data-fetch` namespace. ***\n\n  Returns the current locale when reading the :ui/locale keyword. Otherwise pulls data out of the app-state.\n  "],"^7","~$untangled.client.impl.om-plumbing/read-local","^U",false,"^K","resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^O",17,"^V",["^Q",[["~$p__701447","^1@","~$_"]]],"^W",null,"^X",["^Q",[null,null]],"^M",1,"^L",12,"^N",12,"^Y",3,"^Z",true,"^P",["^Q",["^R",["^Q",[[["^ ","^1;",["^1<","^1=","^1>","^1?"]],"^1@","~$_"]]]]],"^14","Read function for the Om parser.\n\n  *** NOTE: This function only runs when it is called without a target -- it is not triggered for remote reads. To\n  trigger a remote read, use the `untangled/data-fetch` namespace. ***\n\n  Returns the current locale when reading the :ui/locale keyword. Otherwise pulls data out of the app-state.\n  "],"~$mark-missing",["^ ","^I",null,"^J",["^ ","^K","/Users/Stephen/projects/untangled-ui/resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^L",179,"^M",7,"^N",179,"^O",19,"^P",["^Q",["^R",["^Q",[["~$result","^1<"]]]]],"^14","Recursively walk the query and response marking anything that was *asked for* in the query but is *not* in the response as missing.\n  The merge process (which happens later in the plumbing) looks for these markers as indicators to remove any existing\n  data in the database (which has provably disappeared).\n\n  The naive approach to data merging (even recursive) would fail to remove such data.\n\n  Returns the result with missing markers in place (which are then used/removed in a later stage)."],"^7","~$untangled.client.impl.om-plumbing/mark-missing","^U",false,"^K","resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^O",19,"^V",["^Q",[["^1D","^1<"]]],"^W",null,"^X",["^Q",[null,null]],"^M",1,"^L",179,"^N",179,"^Y",2,"^Z",true,"^P",["^Q",["^R",["^Q",[["^1D","^1<"]]]]],"^14","Recursively walk the query and response marking anything that was *asked for* in the query but is *not* in the response as missing.\n  The merge process (which happens later in the plumbing) looks for these markers as indicators to remove any existing\n  data in the database (which has provably disappeared).\n\n  The naive approach to data merging (even recursive) would fail to remove such data.\n\n  Returns the result with missing markers in place (which are then used/removed in a later stage)."],"~$resolve-tempids",["^ ","^I",null,"^J",["^ ","^K","/Users/Stephen/projects/untangled-ui/resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^L",60,"^M",7,"^N",60,"^O",22,"^P",["^Q",["^R",["^Q",[["^1>","~$tid->rid"]]]]],"^14","Replaces all om-tempids in app-state with the ids returned by the server."],"^7","~$untangled.client.impl.om-plumbing/resolve-tempids","^U",false,"^K","resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^O",22,"^V",["^Q",[["^1>","^1G"]]],"^W",null,"^X",["^Q",[null,null]],"^M",1,"^L",60,"^N",60,"^Y",2,"^Z",true,"^P",["^Q",["^R",["^Q",[["^1>","^1G"]]]]],"^14","Replaces all om-tempids in app-state with the ids returned by the server."],"^?",["^ ","^I",null,"^J",["^ ","^K","/Users/Stephen/projects/untangled-ui/resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^L",122,"^M",7,"^N",122,"^O",11,"^P",["^Q",["^R",["^Q",[["~$inner","~$outer","^S"]]]]]],"^7","~$untangled.client.impl.om-plumbing/walk","^U",false,"^K","resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^O",11,"^V",["^Q",[["^1I","^1J","^S"]]],"^W",null,"^X",["^Q",[null,null]],"^M",1,"^L",122,"^N",122,"^Y",3,"^Z",true,"^P",["^Q",["^R",["^Q",[["^1I","^1J","^S"]]]]]],"~$write-entry-point",["^ ","^I",null,"^J",["^ ","^K","/Users/Stephen/projects/untangled-ui/resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^L",34,"^M",7,"^N",34,"^O",24,"^P",["^Q",["^R",["^Q",[["~$env","~$k","~$params"]]]]],"^14","This is the Om entry point for writes. In general this is simply a call to the multi-method\n  defined by Untangled (mutate); however, Untangled supports the concept of a global `post-mutate`\n  function that will be called anytime the general mutate has an action that is desired. This\n  can be useful, for example, in cases where you have some post-processing that needs\n  to happen for a given (sub)set of mutations (that perhaps you did not define)."],"^7","~$untangled.client.impl.om-plumbing/write-entry-point","^U",false,"^K","resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^O",24,"^V",["^Q",[["^1M","~$k","^1N"]]],"^W",null,"^X",["^Q",[null,null]],"^M",1,"^L",34,"^N",34,"^Y",3,"^Z",true,"^P",["^Q",["^R",["^Q",[["^1M","~$k","^1N"]]]]],"^14","This is the Om entry point for writes. In general this is simply a call to the multi-method\n  defined by Untangled (mutate); however, Untangled supports the concept of a global `post-mutate`\n  function that will be called anytime the general mutate has an action that is desired. This\n  can be useful, for example, in cases where you have some post-processing that needs\n  to happen for a given (sub)set of mutations (that perhaps you did not define)."],"~$fallback-query",["^ ","^I",null,"^J",["^ ","^K","/Users/Stephen/projects/untangled-ui/resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^L",87,"^M",7,"^N",87,"^O",21,"^P",["^Q",["^R",["^Q",[["^1<","~$resp"]]]]]],"^7","~$untangled.client.impl.om-plumbing/fallback-query","^U",false,"^K","resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^O",21,"^V",["^Q",[["^1<","^1Q"]]],"^W",null,"^X",["^Q",[null,null]],"^M",1,"^L",87,"^N",87,"^Y",2,"^Z",true,"^P",["^Q",["^R",["^Q",[["^1<","^1Q"]]]]]],"~$is-ui-query-fragment?",["^ ","^I",null,"^J",["^ ","^K","/Users/Stephen/projects/untangled-ui/resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^L",101,"^M",8,"^N",101,"^O",29,"~:private",true,"^P",["^Q",["^R",["^Q",[["~$kw"]]]]],"^14","Check the given keyword to see if it is in the :ui namespace."],"^1T",true,"^7","~$untangled.client.impl.om-plumbing/is-ui-query-fragment?","^U",false,"^K","resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^O",29,"^V",["^Q",[["^1U"]]],"^W",null,"^X",["^Q",[null,null]],"^M",1,"^L",101,"^N",101,"^Y",1,"^Z",true,"^P",["^Q",["^R",["^Q",[["^1U"]]]]],"^14","Check the given keyword to see if it is in the :ui namespace."],"~$prewalk",["^ ","^I",null,"^J",["^ ","^K","/Users/Stephen/projects/untangled-ui/resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^L",131,"^M",7,"^N",131,"^O",14,"^P",["^Q",["^R",["^Q",[["~$f","^S"]]]]]],"^7","~$untangled.client.impl.om-plumbing/prewalk","^U",false,"^K","resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^O",14,"^V",["^Q",[["~$f","^S"]]],"^W",null,"^X",["^Q",[null,null]],"^M",1,"^L",131,"^N",131,"^Y",2,"^Z",true,"^P",["^Q",["^R",["^Q",[["~$f","^S"]]]]]],"~$strip-ui",["^ ","^I",null,"^J",["^ ","^K","/Users/Stephen/projects/untangled-ui/resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^L",106,"^M",7,"^N",106,"^O",15,"^P",["^Q",["^R",["^Q",[["^1<"]]]]],"^14","Returns a new query with fragments that are in the `ui` namespace removed."],"^7","~$untangled.client.impl.om-plumbing/strip-ui","^U",false,"^K","resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^O",15,"^V",["^Q",[["^1<"]]],"^W",null,"^X",["^Q",[null,null]],"^M",1,"^L",106,"^N",106,"^Y",1,"^Z",true,"^P",["^Q",["^R",["^Q",[["^1<"]]]]],"^14","Returns a new query with fragments that are in the `ui` namespace removed."],"~$recursive?",["^ ","^I",null,"^J",["^ ","^K","/Users/Stephen/projects/untangled-ui/resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^L",137,"^M",7,"^N",137,"^O",17,"^P",["^Q",["^R",["^Q",[["~$qf"]]]]]],"^7","~$untangled.client.impl.om-plumbing/recursive?","^U",false,"^K","resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^O",17,"^V",["^Q",[["^20"]]],"^W",null,"^X",["^Q",[null,null]],"^M",1,"^L",137,"^N",137,"^Y",1,"^Z",true,"^P",["^Q",["^R",["^Q",[["^20"]]]]]],"~$remove-loads-and-fallbacks",["^ ","^I",null,"^J",["^ ","^K","/Users/Stephen/projects/untangled-ui/resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^L",77,"^M",7,"^N",77,"^O",33,"^P",["^Q",["^R",["^Q",[["^1<"]]]]],"^14","Removes all untangled/load and tx/fallback mutations from the query"],"^7","~$untangled.client.impl.om-plumbing/remove-loads-and-fallbacks","^U",false,"^K","resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^O",33,"^V",["^Q",[["^1<"]]],"^W",null,"^X",["^Q",[null,null]],"^M",1,"^L",77,"^N",77,"^Y",1,"^Z",true,"^P",["^Q",["^R",["^Q",[["^1<"]]]]],"^14","Removes all untangled/load and tx/fallback mutations from the query"],"~$leaf?",["^ ","^I",null,"^J",["^ ","^K","/Users/Stephen/projects/untangled-ui/resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^L",170,"^M",7,"^N",170,"^O",12,"^P",["^Q",["^R",["^Q",[["~$data"]]]]],"^14","Returns true iff the given data is marked as a leaf in the result (according to the query). Requires pre-marking."],"^7","~$untangled.client.impl.om-plumbing/leaf?","^U",false,"^K","resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^O",12,"^V",["^Q",[["^25"]]],"^W",null,"^X",["^Q",[null,null]],"^M",1,"^L",170,"^N",170,"^Y",1,"^Z",true,"^P",["^Q",["^R",["^Q",[["^25"]]]]],"^14","Returns true iff the given data is marked as a leaf in the result (according to the query). Requires pre-marking."],"~$as-leaf",["^ ","^I",null,"^J",["^ ","^K","/Users/Stephen/projects/untangled-ui/resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^L",163,"^M",7,"^N",163,"^O",14,"^P",["^Q",["^R",["^Q",[["^25"]]]]],"^14","Returns data with meta-data marking it as a leaf in the result."],"^7","~$untangled.client.impl.om-plumbing/as-leaf","^U",false,"^K","resources/public/js/guide/untangled/client/impl/om_plumbing.cljc","^O",14,"^V",["^Q",[["^25"]]],"^W",null,"^X",["^Q",[null,null]],"^M",1,"^L",163,"^N",163,"^Y",1,"^Z",true,"^P",["^Q",["^R",["^Q",[["^25"]]]]],"^14","Returns data with meta-data marking it as a leaf in the result."]],"~:require-macros",["^ ","^D","^E","^E","^E","~$m","^A","^A","^A"],"~:cljs.analyzer/constants",["^ ","~:seen",["^6",["~:untangled/leaf","~:children","~:key","~:else","~:map-entry?","~:ui/fetch-state","~:value","~:params","~$untangled/load","~:ast","~:execute","~:state","~:untangled.client.impl.data-fetch/type","~:not-found","~:...","~:dispatch-key","~:action","~:error","~:depth","~:target","~:untangled.client.impl.om-plumbing/not-found","~:query","~$...","~$tx/fallback"]],"~:order",["^2Q","^2O","^2G","^2E","^2>","^2B","^2?","^2L","^2D","^2S","^2=","^2K","^2C","^2F","^2M","^2P","^2@","^2R","^2N","^2J","^2<","^2A","^2H","^2I"]],"^14",null]